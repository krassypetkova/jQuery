<html>
<head>
    <meta charset="UTF-8">
    <title>TODOs</title>
    <link rel="stylesheet" href="hover.css" type="text/css">
    <link rel="stylesheet" href="todos.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
</head>
<body>
    <section id="wrapper">
        <h1 id="app-heading">todos</h1>
        <div id="todo-wrapper">
            <form id="add-todo-form">
                <input id="checkbox-all" type="checkbox">
                <input id="add-todo-input" name="message" placeholder="What needs to be done?">
            </form>
            <ul id="todo-list">
            </ul>
            <footer>
                <p id="items-left">4 items left</p>
                <div id="buttons-wrapper">
                    <input class="btn hvr-glow" type="button" value="All">
                    <input class="btn hvr-glow" type="button" value="Active">
                    <input class="btn hvr-glow" type="button" value="Completed">
                </div>
                <div id="items-right">
                    <input class="btn btn-4 hvr-glow" type="button" value="Clear completed">
                </div>
            </footer>
        </div>
    </section>

    <script>
        $("#add-todo-form").submit(function (e) {
            e.preventDefault();

            var text = $("input[name=message]").val(),
                    checkButton = $("<input type='checkbox' class='done'/>").click(finishTodo),
                    deleteButton = $("<button class='btnRemove'>X</button>").click(removeTodo),
                    li = $("<li>"+text+"</li>").append(checkButton, deleteButton);

            $('ul').append(li);
            $("input[name=message ]").val(' ');
        });


        $(function() {
            $(document).on('click', '#checkbox-all', checkAllTodos);
        });
        /* $( "#pushBtn" ).click(function () {
            var toAdd = $("input[name=message]").val(),
                deleteButton = $("<button class='btnRemove'>X</button>").click(removeTodo),
                li = $("<li>"+toAdd+"</li>").append(deleteButton);

            $('ul').append(li);
        });*/

        /*$("#btnRemove").click(function() {
            $("#myList li").val().remove();
        });*/
        function checkAllTodos() {
           /* $("#tab1 #checkAll").click(function () {*/
            if ($("#checkbox-all").is(':checked')) {
                $("input[type=checkbox].done").each(function () {
                    $(this).prop("checked", true);
                });

            } else {
                $("input[type=checkbox].done").each(function () {
                    $(this).prop("checked", false);
                });
            }
        }

        function finishTodo() {
            if ( $(this).parent().css('textDecoration') == 'line-through') {
                $(this).parent().css('textDecoration', 'none');
            } else {
                $(this).parent().css('textDecoration', 'line-through');
            }
        }

        function removeTodo(e) {
            $(e.target.parentElement).remove();
        }
    </script>
</body>
</html>