<html>
<head>
    <meta charset="UTF-8">
    <title>TODOs</title>
    <link rel="stylesheet" href="hover.css" type="text/css">
    <link rel="stylesheet" href="todos.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300&subset=latin,cyrillic' rel='stylesheet'
          type='text/css'>
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
</head>
<body>
<section id="wrapper">
    <h1 id="app-heading">todos</h1>

    <div id="todo-wrapper">
        <form id="add-todo-form">
            <input id="checkbox-all" type="checkbox">
            <input id="add-todo-input" name="message" placeholder="What needs to be done?">
        </form>
        <ul id="todo-list">
            <li class="completed">пране<input type="checkbox" checked class="done">
                <button class="btnRemove">X</button>
            </li>
            <li> готвене<input type="checkbox" class="done">
                <button class="btnRemove">X</button>
            </li>
            <li class="completed"> чистене<input type="checkbox" checked class="done">
                <button class="btnRemove">X</button>
            </li>
            <li>пазар<input type="checkbox" class="done"><button class="btnRemove">X</button></li>
        </ul>
        <footer>
            <p id="items-left">4 items left</p>

            <div id="buttons-wrapper">
                <input id="show-all" class="btn hvr-glow" type="button" value="All">
                <input class="btn hvr-glow" type="button" value="Active">
                <input class="btn hvr-glow show-completed" type="button" value="Completed">
            </div>
            <div id="items-right">
                <input class="btn hvr-glow clear-completed" type="button" value="Clear completed">
            </div>
        </footer>
    </div>
</section>

<script>
    $("#add-todo-form").submit(addTodo);
    $("#checkbox-all").click(toggleAllTodos);
    $(".clear-completed").click(clearCompleted);
    $(".show-completed").click(filterCompleted);
    $("#show-all").click(showAll);
    $("#todo-list input:checkbox").click(toggleTodo);

    function addTodo (e) {
        e.preventDefault();

        var text = $("input[name=message]").val(),
                checkbox = $("<input type='checkbox' class='done'/>").click(toggleTodo),
                deleteButton = $("<button class='btnRemove'>X</button>").click(removeTodo),
                li = $("<li>" + text + "</li>").append(checkbox, deleteButton);

        $('ul').append(li);
        $("input[name=message ]").val(' ');
    }

    // Toggle completed state of all todo list items
    function toggleAllTodos() {
        $('input:checkbox').not(this).prop('checked', this.checked);
        if ($('li').css('textDecoration') == 'line-through') {
            $('li').css('textDecoration', 'none');
            $('li').parent().css('opacity', '1');
        } else {
            $('li').css('textDecoration', 'line-through');
            $('li').parent().css('opacity', '0.5');
        }
    }

    function toggleTodo() {
        $(this).parent().toggleClass('completed');
        /*
        if (todoItem.hasClass('completed')) {
            todoItem.removeClass('completed');
        } else {
            todoItem.addClass('completed');
        }*/
    }

    function removeTodo(e) {
        $(e.target.parentElement).remove();
    }

    function clearCompleted() {
        $("#todo-list .done:checkbox:checked").parent().remove();
    }


    function filterCompleted() {
        var $todoList = $("#todo-list");

        $todoList.find("li.completed").show();
        $todoList.find("li:not(.completed)").hide();
    }

    function showAll() {
        $('#todo-list > li').show();
    }


    /* $(function() {
     $(document).on('click', '.clear-completed', clearCompleted);
     });*/
    /*$(function() {
     $(document).on('click', '#checkbox-all', checkAllTodos);
     });*/


    /* $( "#pushBtn" ).click(function () {
     var toAdd = $("input[name=message]").val(),
     deleteButton = $("<button class='btnRemove'>X</button>").click(removeTodo),
     li = $("<li>"+toAdd+"</li>").append(deleteButton);

     $('ul').append(li);
     });*/

    /*$("#btnRemove").click(function() {
     $("#myList li").val().remove();
     });*/


    /*function checkAllTodos() {
     /!* $("#tab1 #checkAll").click(function () {*!/
     if ($("#checkbox-all").is(':checked')) {
     $("input[type=checkbox].done").each(function () {
     $(this).prop("checked", true);
     });

     } else {
     $("input[type=checkbox].done").each(function () {
     $(this).prop("checked", false);
     });
     }
     }*/


    /* $("#checkbox-all").change(function () {
     $("input:checkbox").prop('checked', $(this).prop("checked"));
     });*/
</script>
</body>
</html>